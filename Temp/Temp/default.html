<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Temperature Monitor</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.2.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.2.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.2.0/js/ui.js"></script>

    <!-- Temp references -->
    <link href="/css/default.css" rel="stylesheet" />

    <!-- Knockoutjs : http://opensource.org/licenses/mit-license.php -->
    <script src="/Scripts/knockout-3.0.0.js"></script>

    <!-- Requirejs https://github.com/jrburke/requirejs/blob/master/LICENSE-->
    <script src="/Scripts/require.js"></script>
    
    <script src="/Scripts/default.js"></script>

</head>
<body>
    <div id="appRoot">

        <!-- Knockout templates -->

        <script type="text/html" id="temperature-template">
            <li>

                <img class="icon" src="images/Temperature-30.png" />
                <input class="location" data-bind="value: location, valueUpdate: 'afterkeydown'" />
                <span class="temperature" data-bind="text: formattedCurrentTemp"></span>

                <span class="temperature24H" data-bind="text: formattedLow24H, visible: $root.settingVM.show24H"></span>
                <span class="temperature24H" data-bind="text: formattedHigh24H, visible: $root.settingVM.show24H"></span>

            </li>

        </script>

        <script type="text/html" id="device-template">
            <li>
                
                <a href="#">
                     <span data-bind="text: name"></span>
                </a>

            </li>
        </script>

        <!-- Based on http://line25.com/tutorials/how-to-create-a-pure-css-dropdown-menu -->

        <nav>
            <ul>
                
                <li data-bind="visible: deviceVM.device().length > 0">
                    <a href="#">Devices</a>

                    <ul id="ulDevices" data-bind="template: {name : 'device-template', foreach: deviceVM.device}"></ul>
                
                </li>

                <li>
                    <a href="#">Settings</a>
                    <ul>
                        <li>
                           <label class="settingLabel">Mode</label>
                               
                            <select  data-bind="options: settingVM.temperatureModes, value: settingVM.temperatureMode"></select>
                      
                        </li>

                        <li>
                            <label class="settingLabel">24h</label>
                            <input type="checkbox"  data-bind="checked: settingVM.show24H">
                        </li>

                        <li>
                            <label class="settingLabel">Device</label>

                            <input id="inputDefaultDevice" type="number" min="0" max="127" data-bind="value: settingVM.defaultANTUSBDevice" />

                        </li>

                        <li>
                            <label class="settingLabel">USB</label>

                            <select data-bind="options: settingVM.ANTUSBdevices, optionsText : 'name', value: settingVM.selectedANTUSBdevice"></select>

                        </li>
                       
                    </ul>
                </li>

                <li>
                    <a href="#">About</a>

                    <ul>
                        <li>
                            <a href="https://github.com/hkskoglund/libant">libant</a>
                        </li>
                    </ul>


                </li>
             
            </ul>


        </nav>



        

        <div id="main">

           
            <!--

                
                <button data-bind="click: settingVM.enable24H">Show 24H</button>

    -->
            <ul id="ulMeasurements" data-bind="template: {name : sensorVM.getTemplateName, foreach: sensorVM.measurement}"></ul>

        </div>


    </div> 
   
</body>
</html>
