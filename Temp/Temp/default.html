<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Temperature Monitor</title>

    <!-- WinJS references -->
    <link href="//Microsoft.WinJS.2.0/css/ui-dark.css" rel="stylesheet" />
    <script src="//Microsoft.WinJS.2.0/js/base.js"></script>
    <script src="//Microsoft.WinJS.2.0/js/ui.js"></script>

    <!-- Temp references -->
    <link href="/css/default.css" rel="stylesheet" />

    <!-- Knockoutjs : http://opensource.org/licenses/mit-license.php -->
    <script src="/Scripts/knockout-3.0.0.js"></script>

    <!-- Requirejs https://github.com/jrburke/requirejs/blob/master/LICENSE-->
    <script src="/Scripts/require.js"></script>

    <script src="/Scripts/default.js"></script>

</head>
<body>
    <div id="appRoot">

        <!-- Knockout templates -->

        <script type="text/html" id="temperature-template">
            <li>

                <div id="flexMeasurement">
                    <img class="icon" src="images/Temperature-30.png" alt="Temperature" title="Temperature Sensor" />

                    <input class="location" placeholder="Location..." data-bind="value: location, valueUpdate: 'afterkeydown'" />

                    <span class="temperature" data-bind="text: formattedCurrentTemp, style: {color : currentTemp() < 0 ? '#3D76F5' : 'red'}"></span>
                    <!--<label data-bind="visible: $root.settingVM.show24H">Min</label>-->
                    <span class="temperature24H" data-bind="text: formattedLow24H, visible: $root.settingVM.show24H, style: { color : low24H() < 0 ? '#3D76F5' : 'red'}"></span>
                    <!--<label data-bind="visible: $root.settingVM.show24H">Max</label>-->
                    <span class="temperature24H" data-bind="text: formattedHigh24H, visible: $root.settingVM.show24H, style: { color : high24H() < 0 ? '#3D76F5' : 'red'}"></span>

                    <span class="timestamp" data-bind="text: formattedTimestamp"></span>
                </div>


            </li>

        </script>


        <nav id="appToolbar">


            <div id="flexTemperatureMode">

                <label id="lblTemperatureMonitor">Temperature Monitor</label>

                <div id="divTemperatureMode">
                    <label class="lblTemperatureMode">°C</label>
                    <input class="inpTemperatureMode" type="radio" value="celcius" name="tempGroup" data-bind="checked: settingVM.temperatureMode" />
                    <span id="spanSpace" ></span>
                    <label class="lblTemperatureMode">°F</label>
                    <input class="inpTemperatureMode" type="radio" value="fahrenheit" name="tempGroup" data-bind="checked: settingVM.temperatureMode" />
                </div>

                <div id="divMAXMIN">
                    <label id="lblMAXMIN">MIN/MAX</label>
                    <input type="checkbox" data-bind="checked: settingVM.show24H">
                </div>


                <!--<select data-bind="options: settingVM.temperatureModes, value: settingVM.temperatureMode.value" ></select>-->

                <div id="divENUMERATEDDEVICE">

                    <div data-bind="if: deviceVM.enumeratedDevice().length > 1">
                        <img src="images/usb.png" alt="Device" title="ANT USB device" />
                        <select data-bind="options: deviceVM.enumeratedDevice, optionsText: 'name', value: deviceVM.selectedDevice, optionsCaption: 'Device...', enable:  deviceVM.enumeratedDevice().length > 1"></select>
                    </div>

                    <!--<div data-bind="if: deviceVM.enumeratedDevice().length ===  0">
        <span>No ANT device detected</span>
    </div>-->

                    <div data-bind="if: deviceVM.enumeratedDevice().length ===  1">
                        <img src="images/usb.png" alt="Device" title="ANT USB device" />
                        <span data-bind="text: deviceVM.enumeratedDevice()[0].name"></span>
                    </div>
                </div>
               



            </div>

        </nav>


        <div id="main">

            <ul id="ulMeasurements" data-bind="template: {name : sensorVM.getTemplateName, foreach: sensorVM.measurement}"></ul>

        </div>


    </div>

</body>
</html>